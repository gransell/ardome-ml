# (C) Ardendo SE 2008
#
# Released under the LGPL

Import(['local_env'])

local_env.packages( 'boost_thread', 'boost_filesystem', 'boost_system', 'build_ml', 'boost_date_time', 'libavformat' )

object = local_env.shared_library( 'openmedialib_ml', [ 'awi.cpp', 'filter.cpp', 'frame.cpp', 'indexer.cpp', 'ml.cpp', 'openmedialib_plugin.cpp', 'packet.cpp', 'utilities.cpp' ] )

local_env.release( object )

if local_env[ 'PLATFORM' ] != 'win32' :
	local_env.copy_project_files( local_env[ 'ml_include' ], 
		[ 	'audio.hpp', 
			'awi.hpp', 
			'config.hpp', 
			'filter.hpp', 
			'frame.hpp', 
			'input.hpp', 
			'indexer.hpp', 
			'ml.hpp', 
			'openmedialib_plugin.hpp', 
			'packet.hpp', 
			'store.hpp', 
			'types.hpp', 
			'utilities.hpp' ] )

Return( 'object' )
