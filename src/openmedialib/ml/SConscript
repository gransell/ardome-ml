# (C) Ardendo SE 2008
#
# Released under the LGPL

Import(['local_env'])

local_env.packages( 'boost_thread', 'boost_filesystem', 'boost_system', 'build_ml', 'boost_date_time', 'libavformat', 'loki' )

object = local_env.shared_library( 'openmedialib_ml', [ 
		'audio_channel_convert.cpp', 
		'audio_sample_calcs.cpp', 
		'audio_utilities.cpp', 
		'awi.cpp', 
		'filter.cpp', 
		'frame.cpp', 
		'indexer.cpp', 
		'ml.cpp', 
		'openmedialib_plugin.cpp', 
		'scope_handler.cpp', 
		'utilities.cpp' ] )

local_env.release( object )

if local_env[ 'PLATFORM' ] != 'win32' :
	local_env.copy_project_files( local_env[ 'ml_include' ], 
		[ 	'audio.hpp', 
			'audio_cast.hpp', 
			'audio_channel_convert.hpp', 
			'audio_channel_extract.hpp', 
			'audio_convert.hpp', 
			'audio_interface.hpp', 
			'audio_template.hpp', 
			'audio_types.hpp', 
			'audio_utilities.hpp', 
			'awi.hpp', 
			'config.hpp', 
			'filter.hpp', 
			'frame.hpp', 
			'input.hpp', 
			'indexer.hpp', 
			'ml.hpp', 
			'openmedialib_plugin.hpp', 
			'packet.hpp', 
			'scope_handler.hpp', 
			'store.hpp', 
			'types.hpp', 
			'utilities.hpp' ] )

Return( 'object' )
